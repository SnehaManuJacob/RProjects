{
  "hash": "82adec477e482de8fa4a11d4fbda04ba",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Experiment 2\"\nauthor: \"Sneha Manu Jacob\"\ndate: \"2024-10-25\"\ncategories: [A3, Tips?]\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\nlibrary(crosstable)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'crosstable'\n\nThe following object is masked from 'package:purrr':\n\n    compact\n```\n\n\n:::\n:::\n\n\n\n## Defining the Research Experiment:\n\nGoal of the Experiment: To determine if there is a significant difference in the amount of money given as tip among vegetarian and non-vegetarian young adults.\n\n**Methodology**\n\nSampling: The population consists of students on a college campus who have ordered food through online delivery services like Swiggy or Zomato recently. The method of online platforms must have been chosen since it is easy to access and recollect the amount paid as tip this way and tipping in restaurants is not too socially expected in India unlike in the West. The sample population is a randomly chosen group of students from Manipal Academy of Higher Education, Bangalore, ensuring a hopefully balanced set of participants that is a true representation of the population.\n\nMethod Followed- To ensure a lack of bias, a coin was tossed to even determine if data would be collected from a person or not. This lead to random sampling ensure diversity in age, year of study, and socioeconomic background.\n\nSample Size: We have a total of 60 participants 30 vegetarians and 30 non-vegetarians.\n\n**Why could knowing this be useful?**\n\n1.  It can provide insights for businesses like restaurants or food delivery services in understanding the financial behaviors of specific demographic segments.\n2.  Understanding these patterns can help employers design compensation and customer engagement strategies that ensure fair tipping opportunities for their staff.\n\n### Reading and Analyzing the data:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_data <- read.csv(\"../../data/tip.csv\")\ntips_data\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        Name Gender Preferance Tip\n1      Aanya Female        Veg   0\n2       Adit   Male        Veg   0\n3      Aditi Female        Veg  20\n4      Akash   Male    Non-veg   0\n5    Akshita Female    Non-veg   0\n6   Anandita Female    Non-veg   0\n7     Ananya Female    Non-veg  20\n8      Anaya Female        Veg  35\n9     Anhuya Female        Veg  40\n10     Ankit   Male    Non-veg   0\n11     Anmol   Male        Veg   0\n12      Anna   Male        Veg   0\n13  Anoushka Female    Non-veg   0\n14     Arnav   Male    Non-veg   0\n15    Arushi Female    Non-veg   0\n16  Ashutosh   Male    Non-veg   0\n17     Asark Female    Non-veg  20\n18      Ayan   Male        Veg   0\n19      Debu   Male        Veg  15\n20   Dheeman   Male        Veg 100\n21      Diya Female        Veg  30\n22   Hardik    Male    Non-veg   0\n23  Ignatius   Male    Non-veg  20\n24    Khushi Female        Veg   0\n25   Kshraja Female        Veg   0\n26  Mahendra   Male    Non-veg  20\n27     Mahie Female        Veg   0\n28    Manish   Male        Veg   0\n29  Nanditha Female        Veg   0\n30    Nevaan   Male    Non-veg   0\n31     Nidhi Female        Veg   0\n32   Nishant   Male    Non-veg  20\n33     Nitya Female    Non-veg   0\n34      Ojas   Male        Veg  20\n35  Praneeta Female    Non-veg  50\n36 Priyanshu   Male    Non-veg  20\n37     Radha Female    Non-veg  20\n38      Reva Female    Non-veg  20\n39     Rikin   Male    Non-veg  30\n40    Sadnya Female        Veg   0\n41   Sanjana Female        Veg   0\n42     Sarah Female    Non-veg   0\n43   Shaivii Female    Non-veg   0\n44  Shashwat   Male        Veg   0\n45     Shiva   Male        Veg   0\n46    Shreya Female        Veg   0\n47    Symran Female    Non-veg  20\n48    Simran Female    Non-veg   0\n49   Sourabh   Male    Non-veg   0\n50    Srujan   Male        Veg   0\n51    Suhaas   Male        Veg  20\n52    Suhani Female    Non-veg  20\n53  Sushmita Female        Veg  20\n54     Taran   Male        Veg  20\n55     Varad   Male        Veg   0\n56    Vedant   Male    Non-veg  20\n57     Vinay   Male    Non-veg   0\n58   Vishesh   Male        Veg   0\n59    Vishnu   Male    Non-veg   0\n60    Zivnya Female        Veg  50\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(tips_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 60\nColumns: 4\n$ Name       <chr> \"Aanya\", \"Adit\", \"Aditi\", \"Akash\", \"Akshita\", \"Anandita\", \"…\n$ Gender     <chr> \"Female\", \"Male\", \"Female\", \"Male\", \"Female\", \"Female\", \"Fe…\n$ Preferance <chr> \"Veg\", \"Veg\", \"Veg\", \"Non-veg\", \"Non-veg\", \"Non-veg\", \"Non-…\n$ Tip        <int> 0, 0, 20, 0, 0, 0, 20, 35, 40, 0, 0, 0, 0, 0, 0, 0, 20, 0, …\n```\n\n\n:::\n:::\n\n\n\n### Defining the Data Dictionary:\n\n| Variable name | Description | Type of variable |\n|------------------------|------------------------|------------------------|\n| Name | The name of the participant | Qualitative |\n| Gender | The Gender (Male/Female) of the participant | Qualitative |\n| Preferance | The dietary preference of the participant (Veg / Non-veg) | Qualitative |\n| Tip | The amount of money paid as tip to the participant's online delivery partner in their last order | Quantitative |\n\n**Observations:**\n\n1.  Variables 'Gender' and 'Preferance' need to be transformed to be factors.\n2.  Preference is spelled wrong!\n\n### Transforming and inspecting the data:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified <- tips_data %>%\n  dplyr::mutate(\n    Gender = as_factor(Gender),\n    Preferance = factor(Preferance,\n      levels = c(\"Veg\", \"Non-veg\"),\n      labels = c(\"Veg\", \"Non-veg\"),\n      ordered = TRUE)\n  )\ntips_modified\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        Name Gender Preferance Tip\n1      Aanya Female        Veg   0\n2       Adit   Male        Veg   0\n3      Aditi Female        Veg  20\n4      Akash   Male    Non-veg   0\n5    Akshita Female    Non-veg   0\n6   Anandita Female    Non-veg   0\n7     Ananya Female    Non-veg  20\n8      Anaya Female        Veg  35\n9     Anhuya Female        Veg  40\n10     Ankit   Male    Non-veg   0\n11     Anmol   Male        Veg   0\n12      Anna   Male        Veg   0\n13  Anoushka Female    Non-veg   0\n14     Arnav   Male    Non-veg   0\n15    Arushi Female    Non-veg   0\n16  Ashutosh   Male    Non-veg   0\n17     Asark Female    Non-veg  20\n18      Ayan   Male        Veg   0\n19      Debu   Male        Veg  15\n20   Dheeman   Male        Veg 100\n21      Diya Female        Veg  30\n22   Hardik    Male    Non-veg   0\n23  Ignatius   Male    Non-veg  20\n24    Khushi Female        Veg   0\n25   Kshraja Female        Veg   0\n26  Mahendra   Male    Non-veg  20\n27     Mahie Female        Veg   0\n28    Manish   Male        Veg   0\n29  Nanditha Female        Veg   0\n30    Nevaan   Male    Non-veg   0\n31     Nidhi Female        Veg   0\n32   Nishant   Male    Non-veg  20\n33     Nitya Female    Non-veg   0\n34      Ojas   Male        Veg  20\n35  Praneeta Female    Non-veg  50\n36 Priyanshu   Male    Non-veg  20\n37     Radha Female    Non-veg  20\n38      Reva Female    Non-veg  20\n39     Rikin   Male    Non-veg  30\n40    Sadnya Female        Veg   0\n41   Sanjana Female        Veg   0\n42     Sarah Female    Non-veg   0\n43   Shaivii Female    Non-veg   0\n44  Shashwat   Male        Veg   0\n45     Shiva   Male        Veg   0\n46    Shreya Female        Veg   0\n47    Symran Female    Non-veg  20\n48    Simran Female    Non-veg   0\n49   Sourabh   Male    Non-veg   0\n50    Srujan   Male        Veg   0\n51    Suhaas   Male        Veg  20\n52    Suhani Female    Non-veg  20\n53  Sushmita Female        Veg  20\n54     Taran   Male        Veg  20\n55     Varad   Male        Veg   0\n56    Vedant   Male    Non-veg  20\n57     Vinay   Male    Non-veg   0\n58   Vishesh   Male        Veg   0\n59    Vishnu   Male    Non-veg   0\n60    Zivnya Female        Veg  50\n```\n\n\n:::\n:::\n\n\n\n## Descriptive Analysis:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(tips_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 60\nColumns: 4\n$ Name       <chr> \"Aanya\", \"Adit\", \"Aditi\", \"Akash\", \"Akshita\", \"Anandita\", \"…\n$ Gender     <fct> Female, Male, Female, Male, Female, Female, Female, Female,…\n$ Preferance <ord> Veg, Veg, Veg, Non-veg, Non-veg, Non-veg, Non-veg, Veg, Veg…\n$ Tip        <int> 0, 0, 20, 0, 0, 0, 20, 35, 40, 0, 0, 0, 0, 0, 0, 0, 20, 0, …\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(tips_modified)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |              |\n|:------------------------|:-------------|\n|Name                     |tips_modified |\n|Number of rows           |60            |\n|Number of columns        |4             |\n|_______________________  |              |\n|Column type frequency:   |              |\n|character                |1             |\n|factor                   |2             |\n|numeric                  |1             |\n|________________________ |              |\n|Group variables          |None          |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Name          |         0|             1|   4|   9|     0|       60|          0|\n\n\n**Variable type: factor**\n\n|skim_variable | n_missing| complete_rate|ordered | n_unique|top_counts       |\n|:-------------|---------:|-------------:|:-------|--------:|:----------------|\n|Gender        |         0|             1|FALSE   |        2|Fem: 30, Mal: 30 |\n|Preferance    |         0|             1|TRUE    |        2|Veg: 30, Non: 30 |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|  mean|    sd| p0| p25| p50| p75| p100|hist  |\n|:-------------|---------:|-------------:|-----:|-----:|--:|---:|---:|---:|----:|:-----|\n|Tip           |         0|             1| 11.17| 17.84|  0|   0|   0|  20|  100|▇▁▁▁▁ |\n\n\n:::\n:::\n\n\n\n**Observations:**\n\n1.  There are no missing values in the data-set.\n2.  There are 30 vegetarian and 30 non-vegetarian entries in the Food Preference factor. There are 30 male and 30 female entries in the Gender factor.Was data collected in a way that there are 15 male and 15 female vegetarians and 15 male and 15 female non-vegetarians? I should summerise and check!\n3.  It's interesting to see that the progression of p0 to p100 is a series of 0, 0, 0, 20 and 100. The smallest tip given is 0 while the biggest is 100. This also indicates a large number of 0 -no tip in the data set compared to other values. It's most likely a very right skewed distribution. It would be interesting to analyse who contributed to more of these 0s or if everyone is equally kanjoos regardless of food preference or gender.\n\n### Summeries and Visualizations of the data\n\n**Distribution of overall tips:**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_histogram(~Tip)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n**Observations:**\n\n1.  Like i had thought inspecting the day, a majority of participants have not given any tip. It as a right skewed distribution.\n2.  Among people who do tip, 20rs is the most tipped value of money.\n3.  Is tipping value 100 an outlier?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  group_by(Preferance, Gender) %>%\n  summarize(count =n()) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`summarise()` has grouped output by 'Preferance'. You can override using the\n`.groups` argument.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n# Groups:   Preferance [2]\n  Preferance Gender count\n  <ord>      <fct>  <int>\n1 Veg        Female    15\n2 Veg        Male      15\n3 Non-veg    Female    15\n4 Non-veg    Male      15\n```\n\n\n:::\n:::\n\n\n\n**Observation:** My previous hypothesis that there are 15 male and 15 female vegetarians and 15 male and 15 female non-vegetarians. This must have been done to remove any gender bias from our analysis.\n\nIt gives us the opportunity to also inspect another aspect to tipping - if gender plays a roll or not- it works either ways- on doing it in this way, our analysis has no bias based on dietary decisions. For now, let's continue with the Food preference tipping analysis.\n\n**Tips faceted by Food Preference:**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_histogram(~Tip, fill = ~Preferance, data = tips_modified, bins=100) %>%\n  gf_labs(title = \"Tips faceted by Food Preference\", caption = \"ggformula\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_histogram(~Tip|Preferance, fill = ~Preferance, color = \"black\", alpha = 0.3) %>%\n  gf_labs(\n    title = \"Tips faceted by Food Preference\",\n    caption = \"ggformula\"\n  ) %>%\n  gf_theme(theme(\n    axis.text.x = element_text(\n      angle = 45,\n      hjust = 1 \n    )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_density(\n    ~ Tip,\n    fill = ~ Preferance,\n    alpha = 0.5,\n    title = \"Money Spent Densities\",\n    subtitle = \"Vegetarians vs Non-Vegetarians\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n**Observations:**\n\n1.  Both groups show a right-skewed distribution with a high count of low tip (0) amount. The count of participants giving no tip appears to be similar for both groups.\n2.  These graphs suggest that while the count of tips (below 25) appears to be higher for non-vegetarians, The count of higher tips (above 25), while low for both groups, is relatively higher for vegetarians.\n3.  Maybe food preference might not have a strong influence on the tip amounts given by students? Or maybe Vegetarians tip more than non vegetarians in the sense that when they vegetarians do give tips, they tend to give a higher amounts than non- vegetarians do?\n\n#### Crosstables:\n\nTrying to find the difference in means and medians of tips given based on the difference in food preference within the sample population to get a better understanding of what the data is saying:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrosstable(Tip ~ Preferance, data = tips_modified) %>%\n  crosstable::as_flextable()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-3aba2032{table-layout:auto;}.cl-3aae1a6c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3aae1a8a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ab373a4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ab373b8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ab399ec{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ab399f6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ab399f7{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ab399f8{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ab39a00{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-3aba2032'><thead><tr style=\"overflow-wrap:break-word;\"><th  rowspan=\"2\"class=\"cl-3ab399ec\"><p class=\"cl-3ab373a4\"><span class=\"cl-3aae1a6c\">label</span></p></th><th  rowspan=\"2\"class=\"cl-3ab399ec\"><p class=\"cl-3ab373a4\"><span class=\"cl-3aae1a6c\">variable</span></p></th><th  colspan=\"2\"class=\"cl-3ab399f6\"><p class=\"cl-3ab373a4\"><span class=\"cl-3aae1a6c\">Preferance</span></p></th></tr><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-3ab399f7\"><p class=\"cl-3ab373a4\"><span class=\"cl-3aae1a6c\">Veg</span></p></th><th class=\"cl-3ab399f7\"><p class=\"cl-3ab373a4\"><span class=\"cl-3aae1a6c\">Non-veg</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td  rowspan=\"4\"class=\"cl-3ab399f8\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">Tip</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">Min / Max</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">0 / 100.0</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">0 / 50.0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">Med [IQR]</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">0 [0;20.0]</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">0 [0;20.0]</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">Mean (std)</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">12.3 (21.9)</span></p></td><td class=\"cl-3ab39a00\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">10.0 (12.9)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-3ab399f8\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">N (NA)</span></p></td><td class=\"cl-3ab399f8\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">30 (0)</span></p></td><td class=\"cl-3ab399f8\"><p class=\"cl-3ab373b8\"><span class=\"cl-3aae1a8a\">30 (0)</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n**Visualizing the Median and IQR ranges:**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_boxplot(Preferance ~ Tip, fill = ~Preferance, alpha=0.5) %>%\n  gf_labs(title = \"Box plot of Tip filled with Food Preference\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n**Observations**:\n\n1.  The mean value of the tips given by vegetarians(12.3) is higher than that given by non- vegetarians(10) which makes sense considering our earlier observation of the fact that the giving of higher tips is more common among vegetarians.\n2.  The higher standard deviation in the Vegetarian group-21.9 suggests that they have more variability in tipping behavior compared to Non-vegetarians-12.9.\n3.  The median tip for both groups is 0, indicating that at least half of the participants from both groups tipped nothing.\n4.  The IQR range for both groups is 0 to 20 i.e. 50% of the tips for both groups falls within this range.\n5.  Does this suggest that most participants, regardless of food preference, tend to give low tips, with the Vegetarian group having one visible outlier that skews its range higher- there is no difference in tipping behavior based on food preference?\n\n### Forming my Hypothesis:\n\nNull Hypothesis: There is no difference in the average tip amount between vegetarians and non-vegetarians.\n\nAlternative Hypothesis: Vegetarians tend give larger values as tips than non-vegetarians.\n\n*It's not possible to come to any concrete conclusion with just the descriptive analysis of the data, and so, I move to conduct statistical analysis on this data.*\n\n## Statistical Analysis: Hypothesis Testing\n\n### A t-test:\n\nAssumptions: 1. The distribution for each group - Vegetarians and Non-vegetarians is normal.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmosaic::t_test(Tip ~ Preferance, data = tips_modified)%>%\n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 10\n  estimate estimate1 estimate2 statistic p.value parameter conf.low conf.high\n     <dbl>     <dbl>     <dbl>     <dbl>   <dbl>     <dbl>    <dbl>     <dbl>\n1     2.33      12.3        10     0.503   0.617      46.9    -6.99      11.7\n# ℹ 2 more variables: method <chr>, alternative <chr>\n```\n\n\n:::\n:::\n\n\n\n**Observations:**\n\n1.  The estimate suggests that vegetarians, on average, give 2.3rs more tip than non-vegetarians in mu sample data set.\n2.  The high p-value of 0.6 1, greater than the typical significance level of 0.05, suggests that there is no statistically significant difference in the average tip amounts between vegetarians and non-vegetarians.The result could just be random, so I don’t have strong evidence that something is happening.\n3.  0- which indicates that there is no difference on the average tip, falls within the confidence intervals which suggest the same.\n4.  Therefore we cannot reject the null hypothesis.\n\nWhat if my assumption of these 2 distribution of tip faceted by Food Preference being normal is not right? We could do a Shapiro test to confirm.\n\n### A Shapiro test:\n\nShapiro test is one used to determine if a sample comes from a normally distributed population or not.\n\nFirst we transform our data set to be 2 different ones- one with all the Veg values and the other with all the Non-veg values.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfiltered_Veg <- tips_modified %>%\n  filter(Preferance == \"Veg\")\nfiltered_Non <- tips_modified %>%\n  filter(Preferance == \"Non-veg\")\nfiltered_Veg\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       Name Gender Preferance Tip\n1     Aanya Female        Veg   0\n2      Adit   Male        Veg   0\n3     Aditi Female        Veg  20\n4     Anaya Female        Veg  35\n5    Anhuya Female        Veg  40\n6     Anmol   Male        Veg   0\n7      Anna   Male        Veg   0\n8      Ayan   Male        Veg   0\n9      Debu   Male        Veg  15\n10  Dheeman   Male        Veg 100\n11     Diya Female        Veg  30\n12   Khushi Female        Veg   0\n13  Kshraja Female        Veg   0\n14    Mahie Female        Veg   0\n15   Manish   Male        Veg   0\n16 Nanditha Female        Veg   0\n17    Nidhi Female        Veg   0\n18     Ojas   Male        Veg  20\n19   Sadnya Female        Veg   0\n20  Sanjana Female        Veg   0\n21 Shashwat   Male        Veg   0\n22    Shiva   Male        Veg   0\n23   Shreya Female        Veg   0\n24   Srujan   Male        Veg   0\n25   Suhaas   Male        Veg  20\n26 Sushmita Female        Veg  20\n27    Taran   Male        Veg  20\n28    Varad   Male        Veg   0\n29  Vishesh   Male        Veg   0\n30   Zivnya Female        Veg  50\n```\n\n\n:::\n\n```{.r .cell-code}\nfiltered_Non\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        Name Gender Preferance Tip\n1      Akash   Male    Non-veg   0\n2    Akshita Female    Non-veg   0\n3   Anandita Female    Non-veg   0\n4     Ananya Female    Non-veg  20\n5      Ankit   Male    Non-veg   0\n6   Anoushka Female    Non-veg   0\n7      Arnav   Male    Non-veg   0\n8     Arushi Female    Non-veg   0\n9   Ashutosh   Male    Non-veg   0\n10     Asark Female    Non-veg  20\n11   Hardik    Male    Non-veg   0\n12  Ignatius   Male    Non-veg  20\n13  Mahendra   Male    Non-veg  20\n14    Nevaan   Male    Non-veg   0\n15   Nishant   Male    Non-veg  20\n16     Nitya Female    Non-veg   0\n17  Praneeta Female    Non-veg  50\n18 Priyanshu   Male    Non-veg  20\n19     Radha Female    Non-veg  20\n20      Reva Female    Non-veg  20\n21     Rikin   Male    Non-veg  30\n22     Sarah Female    Non-veg   0\n23   Shaivii Female    Non-veg   0\n24    Symran Female    Non-veg  20\n25    Simran Female    Non-veg   0\n26   Sourabh   Male    Non-veg   0\n27    Suhani Female    Non-veg  20\n28    Vedant   Male    Non-veg  20\n29     Vinay   Male    Non-veg   0\n30    Vishnu   Male    Non-veg   0\n```\n\n\n:::\n:::\n\n\n\nVisualizing the distribution we acquire vs a normal distribution for each group:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_density( ~ Tip,\n              fill = ~ Preferance,\n              alpha = 0.5,\n              title = \"Tip given\") %>%\n  gf_facet_grid(~ Preferance) %>% \n  gf_fitdistr(dist = \"dnorm\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n\nThese graphs don't seem to suggest that these 2 distributions are normally distributed. Does the shapiro test say the same?\n\n#### For Vegetarians:\n\nNull hypothesis: The money given as tip by Vegetarians is normally distributed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nshapiro.test(filtered_Veg$Tip)%>%\n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  statistic     p.value method                     \n      <dbl>       <dbl> <chr>                      \n1     0.629 0.000000166 Shapiro-Wilk normality test\n```\n\n\n:::\n:::\n\n\n\nA high w (statistic) value - one greater than 0.9 indicates that a distribution is normal. With a w value so low : 0.62, we can reject the null hypothesis that it is normally distributed. The p-value suggests the same- it's less than 0.05 which confirms that the w value we received is statistically significant, it did hot happen by chance.\n\nTherefore, the distribution of tips given by vegetarians are not normally distributed.\n\n#### For Non-Vegetarians:\n\nNull hypothesis: The money given as tip by Non-Vegetarians is normally distributed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nshapiro.test(filtered_Non$Tip)%>%\n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  statistic    p.value method                     \n      <dbl>      <dbl> <chr>                      \n1     0.717 0.00000275 Shapiro-Wilk normality test\n```\n\n\n:::\n:::\n\n\n\nThe conclusions of this Shapiro test is similar to the last- a low w which indicates that the distribution is not normally distributed. Though a little more than the the previous one. We confirm this by assessing the p-value of the test: a very low value confirming that this was not by chance.\n\nTherefore, the distribution of tips given by Non-vegetarians are not normally distributed.\n\nAnd so we through out any inferences we pulled from the t test- our assumption has been proven to be false- making it invalid.\n\n### Mann-Whitney Test\n\nThe Mann-Whitney Test is used to compare two independent groups when the data doesn’t follow a normal distribution.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwilcox.test(Tip ~ Preferance, data = tips_modified, \n            conf.int = TRUE, \n            conf.level = 0.95) %>% \n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...): cannot\ncompute exact p-value with ties\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...): cannot\ncompute exact confidence intervals with ties\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n    estimate statistic p.value     conf.low conf.high method         alternative\n       <dbl>     <dbl>   <dbl>        <dbl>     <dbl> <chr>          <chr>      \n1 -0.0000372       437   0.833 -0.000000989 0.0000335 Wilcoxon rank… two.sided  \n```\n\n\n:::\n:::\n\n\n\nOkay i have a doubt- The test does not directly indicate which group (variable) has higher values. If i look at my skim or even my estimate1 in t-test, Veg is the first group, I also ordered my levels to be Veg first, so that's how it works here too? Yep, that's what I'm going with.\n\n1.  The estimate mean difference is 3.7rs.\n2.  The p-value is 0.8 (greater than 0.05) suggesting that the estimate result could easily /probably happened by chance, so it’s not considered significant. We therefore, cannot reject the null hypothesis.\n3.  0- which indicates that there is no difference on the average tip, falls within the confidence intervals which suggests the same- we cannot reject the null hypothesis.\n\nI received an error saying \"Warning: cannot compute exact p-value with ties Warning: cannot compute exact confidence intervals with ties\". This means that because i have so may repeating values (I'm guessing mainly 0)- there are many values with the same rank and polarity. This could lead to not having a precise p-values and confidence interval result. Therefore, i cannot reject or accept the null hypothesis right away, to make sure, i will go ahead and perform a permutation test to come to a solid inference, one that i cannot question.\n\n### Permutation Test\n\nThe permutation test is very flexible and requires minimal assumptions. It doesn’t assume normality or equal variances, making it useful for small or skewed data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_diff_pref <- diffmean(Tip ~ Preferance, \n                            data = tips_modified) \n\nobs_diff_pref\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n diffmean \n-2.333333 \n```\n\n\n:::\n:::\n\n\n\nNon-veg mean - Veg mean = -2.3\n\nIn my sample data, vegetarians, on average, give 2.3rs more tip than non-vegetarians.\n\n**Creating the Null Distribution by Permutation**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnull_dist_tips <- \n  do(4999) * diffmean(data = tips_modified, \n                      Tip ~ shuffle(Preferance))\n##null_dist_tips , it appears too long when i render it!\n```\n:::\n\n\n\n**Visualizing this:**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_histogram(data = null_dist_tips, ~ diffmean, \n             bins = 25) %>%\n  gf_vline(xintercept = obs_diff_pref, \n           colour = \"darkred\", linewidth = 1,\n           title = \"Null Distribution by Permutation\", \n           subtitle = \"Histogram\") %>% \n  gf_labs(x = \"Difference in Means\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n\n**Acquiring the p-value:**\n\nThe p-value is calculated by comparing the obs_diff_pref (from the actual data) to the null distribution acquired through permutation. It represents the proportion of times a difference as extreme as the observed one occurs by random chance alone.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprop1(~ diffmean <= obs_diff_pref, data = null_dist_tips)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nprop_TRUE \n    0.311 \n```\n\n\n:::\n:::\n\n\n\n**Observations:**\n\n1.  The p-value observed through the permutation test is 0.32. If it would have been a value less than 0.05, it would indicate that that the observed difference is unlikely to have occurred by chance, leading to a rejection of the null hypothesis. But in case of a higher value like 0.3, we cannot reject the null hypothesis: There is no difference in the tipping behavior between vegetarians and non-vegetarians.\n2.  The visualization of the histogram of mean differences- null distribution along with the observed mean different suggests the same. The observed mean difference is seen around the middle of our null distribution - I can easily mimic nature here - Nothing special is happening - I cannot reject the null hypothesis.\n\n### Conclusion:\n\nIn the assumption that my sample population is a true representation of my population- there appears to be no significant difference in tipping behavior based on dietary preference.\n\n------------------------------------------------------------------------\n\n## Descriptive Analysis (based on gender):\n\n### Visualizing Tips faceted by Gender\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_histogram(~Tip, fill = ~Gender, data = tips_modified) %>%\n  gf_labs(title = \"Tips faceted by Gender\", caption = \"ggformula\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_histogram(~Tip|Gender, fill = ~Gender, color = \"black\", alpha = 0.3) %>%\n  gf_labs(\n    title = \"Tips faceted by Gender\",\n    caption = \"ggformula\"\n  ) %>%\n  gf_theme(theme(\n    axis.text.x = element_text(\n      angle = 45,\n      hjust = 1 \n    )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_density(\n    ~ Tip,\n    fill = ~ Gender,\n    alpha = 0.5,\n    title = \"Money Spent Densities\",\n    subtitle = \"Males vs Females\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\n\n**Observations:**\n\n1.  If I ignore the outlier for males at 100, from looking the data, i think females tend to tip more than males.\n\n### Crosstables:\n\nDoes the summation of the data support my hunch?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrosstable(Tip ~ Gender, data = tips_modified) %>%\n  crosstable::as_flextable()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-3fdc01de{table-layout:auto;}.cl-3fd18f2e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3fd18f38{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3fd5371e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3fd53732{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3fd5569a{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fd556a4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fd556ae{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fd556af{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fd556b0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-3fdc01de'><thead><tr style=\"overflow-wrap:break-word;\"><th  rowspan=\"2\"class=\"cl-3fd5569a\"><p class=\"cl-3fd5371e\"><span class=\"cl-3fd18f2e\">label</span></p></th><th  rowspan=\"2\"class=\"cl-3fd5569a\"><p class=\"cl-3fd5371e\"><span class=\"cl-3fd18f2e\">variable</span></p></th><th  colspan=\"2\"class=\"cl-3fd556a4\"><p class=\"cl-3fd5371e\"><span class=\"cl-3fd18f2e\">Gender</span></p></th></tr><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-3fd556ae\"><p class=\"cl-3fd5371e\"><span class=\"cl-3fd18f2e\">Female</span></p></th><th class=\"cl-3fd556ae\"><p class=\"cl-3fd5371e\"><span class=\"cl-3fd18f2e\">Male</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td  rowspan=\"4\"class=\"cl-3fd556af\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">Tip</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">Min / Max</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">0 / 50.0</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">0 / 100.0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">Med [IQR]</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">0 [0;20.0]</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">0 [0;20.0]</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">Mean (std)</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">12.2 (16.1)</span></p></td><td class=\"cl-3fd556b0\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">10.2 (19.7)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-3fd556af\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">N (NA)</span></p></td><td class=\"cl-3fd556af\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">30 (0)</span></p></td><td class=\"cl-3fd556af\"><p class=\"cl-3fd53732\"><span class=\"cl-3fd18f38\">30 (0)</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nVisualization of median and IQR ranges:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_boxplot(Gender ~ Tip, fill = ~Gender, alpha=0.5) %>%\n  gf_labs(title = \"Box plot of Tip filled with Gender\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n\n\n**Observations:**\n\n1.  50 percent of all tips for both genders lie within the same range 0-20.\n2.  Despite this similarity, the difference in mean by 2 values (which i accept and notice is not too much), the higher value being present for Females, suggest that there are females are more likely to pay more tip than men.\n\n### Forming My Hypothesis:\n\nNull Hypothesis: There is no difference in tipping behavior between males and females.\n\nAlternative Hypothesis: Females tend give larger values as tips than Males.\n\n## Statistical Analysis: Hypothesis Testing\n\n### A t-test:\n\nAssumptions: 1. The distribution for each group - male and female is normal.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmosaic::t_test(Tip ~ Gender, data = tips_modified)%>%\n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 10\n  estimate estimate1 estimate2 statistic p.value parameter conf.low conf.high\n     <dbl>     <dbl>     <dbl>     <dbl>   <dbl>     <dbl>    <dbl>     <dbl>\n1        2      12.2      10.2     0.431   0.668      55.8    -7.29      11.3\n# ℹ 2 more variables: method <chr>, alternative <chr>\n```\n\n\n:::\n:::\n\n\n\n**Observations:**\n\n1.  The estimate suggests that females, on average, give 2rs more tip than males in our sample data set.\n2.  The high p-value of 0.66, greater than the typical significance level of 0.05, suggests that there is no statistically significant difference in the average tip amounts between males and females.The result could just be random, so I don’t have strong evidence that something is happening.\n3.  0- which indicates that there is no difference on the average tip, falls within the confidence interval (-7.2 to 11.9) which suggest the same.\n4.  Therefore we cannot reject the null hypothesis.\n\nBut what if my assumption of the tips being distributed normally is not accurate?\n\nFirst we transform our data set to be 2 different ones- one with all the Male values and the other with all the Female values.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfiltered_Male <- tips_modified %>%\n  filter(Gender == \"Male\")\nfiltered_Female <- tips_modified %>%\n  filter(Gender == \"Female\")\nfiltered_Male\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        Name Gender Preferance Tip\n1       Adit   Male        Veg   0\n2      Akash   Male    Non-veg   0\n3      Ankit   Male    Non-veg   0\n4      Anmol   Male        Veg   0\n5       Anna   Male        Veg   0\n6      Arnav   Male    Non-veg   0\n7   Ashutosh   Male    Non-veg   0\n8       Ayan   Male        Veg   0\n9       Debu   Male        Veg  15\n10   Dheeman   Male        Veg 100\n11   Hardik    Male    Non-veg   0\n12  Ignatius   Male    Non-veg  20\n13  Mahendra   Male    Non-veg  20\n14    Manish   Male        Veg   0\n15    Nevaan   Male    Non-veg   0\n16   Nishant   Male    Non-veg  20\n17      Ojas   Male        Veg  20\n18 Priyanshu   Male    Non-veg  20\n19     Rikin   Male    Non-veg  30\n20  Shashwat   Male        Veg   0\n21     Shiva   Male        Veg   0\n22   Sourabh   Male    Non-veg   0\n23    Srujan   Male        Veg   0\n24    Suhaas   Male        Veg  20\n25     Taran   Male        Veg  20\n26     Varad   Male        Veg   0\n27    Vedant   Male    Non-veg  20\n28     Vinay   Male    Non-veg   0\n29   Vishesh   Male        Veg   0\n30    Vishnu   Male    Non-veg   0\n```\n\n\n:::\n\n```{.r .cell-code}\nfiltered_Female\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       Name Gender Preferance Tip\n1     Aanya Female        Veg   0\n2     Aditi Female        Veg  20\n3   Akshita Female    Non-veg   0\n4  Anandita Female    Non-veg   0\n5    Ananya Female    Non-veg  20\n6     Anaya Female        Veg  35\n7    Anhuya Female        Veg  40\n8  Anoushka Female    Non-veg   0\n9    Arushi Female    Non-veg   0\n10    Asark Female    Non-veg  20\n11     Diya Female        Veg  30\n12   Khushi Female        Veg   0\n13  Kshraja Female        Veg   0\n14    Mahie Female        Veg   0\n15 Nanditha Female        Veg   0\n16    Nidhi Female        Veg   0\n17    Nitya Female    Non-veg   0\n18 Praneeta Female    Non-veg  50\n19    Radha Female    Non-veg  20\n20     Reva Female    Non-veg  20\n21   Sadnya Female        Veg   0\n22  Sanjana Female        Veg   0\n23    Sarah Female    Non-veg   0\n24  Shaivii Female    Non-veg   0\n25   Shreya Female        Veg   0\n26   Symran Female    Non-veg  20\n27   Simran Female    Non-veg   0\n28   Suhani Female    Non-veg  20\n29 Sushmita Female        Veg  20\n30   Zivnya Female        Veg  50\n```\n\n\n:::\n:::\n\n\n\nVisualizing the distribution we acquire vs a normal distribution for each group:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_modified %>%\n  gf_density( ~ Tip,\n              fill = ~ Gender,\n              alpha = 0.5,\n              title = \"Tip given\") %>%\n  gf_facet_grid(~ Gender) %>% \n  gf_fitdistr(dist = \"dnorm\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-31-1.png){width=672}\n:::\n:::\n\n\n\nThe data does not seem to be normally distributed. Let's confirm!\n\n### A Shapiro test:\n\nShapiro test is one used to determine if a sample comes from a normally distributed population or not.\n\n#### For Males:\n\nNull hypothesis: The money given as tip by Males is normally distributed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nshapiro.test(filtered_Male$Tip)%>%\n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  statistic      p.value method                     \n      <dbl>        <dbl> <chr>                      \n1     0.532 0.0000000119 Shapiro-Wilk normality test\n```\n\n\n:::\n:::\n\n\n\nWith a w value so low : 0.5 (\\<0.9), we can reject the null hypothesis that it is normally distributed. The p-value suggests the same- it's less than 0.05 which confirms that the w value we received is statistically significant, it did not happen by chance.\n\nTips given by males are not normally distributed.\n\n#### For Females:\n\nNull hypothesis: The money given as tip by Females is normally distributed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nshapiro.test(filtered_Female$Tip)%>%\n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  statistic    p.value method                     \n      <dbl>      <dbl> <chr>                      \n1     0.748 0.00000832 Shapiro-Wilk normality test\n```\n\n\n:::\n:::\n\n\n\nWith a w value so low : 0.7 (\\<0.9), we can reject the null hypothesis that it is normally distributed. The p-value suggests the same- it's less than 0.05 which confirms that the w value we received is statistically significant, it did not happen by chance.\n\nTips given by females are not normally distributed.\n\n### Mann-Whitney Test\n\nSince we proved the t-test p-value to be invalid, we can use the Mann-Whitney test to pull inferences. It is used to compare two independent groups when the data doesn’t follow a normal distribution.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwilcox.test(Tip ~ Gender, data = tips_modified, \n            conf.int = TRUE, \n            conf.level = 0.95) %>% \n  broom::tidy()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...): cannot\ncompute exact p-value with ties\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...): cannot\ncompute exact confidence intervals with ties\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n   estimate statistic p.value   conf.low  conf.high method           alternative\n      <dbl>     <dbl>   <dbl>      <dbl>      <dbl> <chr>            <chr>      \n1 0.0000445       498   0.422 -0.0000134 0.00000497 Wilcoxon rank s… two.sided  \n```\n\n\n:::\n:::\n\n\n\n1.  The estimate suggests that females, on average, give 4.446004e-05rs more tip than males.\n2.  The p-value is 0.4(greater than 0.05) suggesting that the estimate result could easily /probably happened by chance, so it’s not considered significant. We therefore, cannot reject the null hypothesis.\n3.  0- which indicates that there is no difference on the average tip, falls within the confidence intervals which suggests the same- we cannot reject the null hypothesis.\n\nI received an error saying \"Warning: cannot compute exact p-value with tiesWarning: cannot compute exact confidence intervals with ties\". This means that because i have so may repeating values (I'm guessing mainly 0)- there are many values with the same rank and polarity. This could lead to not having a precise p-values and confidence interval result. Therefore, i cannot reject or accept the null hypothesis right away, to make sure, i will go ahead and perform a permutation test to come to a solid inference, one that i cannot question.\n\n### Permutation Test\n\nThe permutation test is very flexible and requires minimal assumptions. It doesn’t assume normality or equal variances, making it useful for small or skewed data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_diff_gender <- diffmean(Tip ~ Gender, \n                            data = tips_modified) \n\nobs_diff_gender\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ndiffmean \n      -2 \n```\n\n\n:::\n:::\n\n\n\nMale mean - Female mean = -2\n\nIn my sample data, females, on average, give 2rs more tip than males.\n\n**Creating the Null Distribution by Permutation**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnull_dist_tips2 <- \n  do(4999) * diffmean(data = tips_modified, \n                      Tip ~ shuffle(Gender))\n##null_dist_tips2 , it appears too long when i render it!\n```\n:::\n\n\n\n**Visualizing this:**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_histogram(data = null_dist_tips2, ~ diffmean, \n             bins = 25) %>%\n  gf_vline(xintercept = obs_diff_gender, \n           colour = \"darkred\", linewidth = 1,\n           title = \"Null Distribution by Permutation\", \n           subtitle = \"Histogram\") %>% \n  gf_labs(x = \"Difference in Means\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n\n\n\n**Acquiring the p-value:**\n\nThe p-value is calculated by comparing the obs_diff_gender (from the actual data) to the null distribution acquired through permutation. It represents the proportion of times a difference as extreme as the observed one occurs by random chance alone.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprop1(~ diffmean <= obs_diff_gender, data = null_dist_tips2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nprop_TRUE \n   0.3574 \n```\n\n\n:::\n:::\n\n\n\n**Observations:**\n\n1.  The p-value observed through the permutation test is 0.35. If it would have been a value less than 0.05, it would indicate that that the observed difference is unlikely to have occurred by chance, leading to a rejection of the null hypothesis. But in case of a higher value like 0.3, we cannot reject the null hypothesis: There is no difference in the tipping behavior between male and female students .\n2.  The visualization of the histogram of mean differences- null distribution along with the observed mean different suggests the same. The observed mean difference is observed around the middle of our null distribution - I can easily mimic nature here - Nothing special is happening - I cannot reject the null hypothesis.\n\n### Conclusion:\n\nIn the assumption that my sample population is a true representation of my population-there appears to be no significant difference in tipping behavior based on gender.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}