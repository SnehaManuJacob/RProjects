{
  "hash": "c32cdf968e1c46948a0585ef0efe9ea9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day 3\"\nauthor: \"Sneha Manu Jacob\"\ndate: \"2024-10-03\"\ncategories: [counts, Bar-graph, taxi, addiction, banned-books]\n---\n\n\n\n## Introduction\n\nToday we worked on count of qualitative data. We also looked in creation of bar graph - data in lengths.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n:::\n\n\n\n## Taxi data-set\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi <- read_csv(\"https://vincentarelbundock.github.io/Rdatasets/csv/modeldata/taxi.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 10000 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): tip, company, local, dow, month\ndbl (3): rownames, distance, hour\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\ntaxi\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10,000 × 8\n   rownames tip   distance company                      local dow   month  hour\n      <dbl> <chr>    <dbl> <chr>                        <chr> <chr> <chr> <dbl>\n 1        1 yes      17.2  Chicago Independents         no    Thu   Feb      16\n 2        2 yes       0.88 City Service                 yes   Thu   Mar       8\n 3        3 yes      18.1  other                        no    Mon   Feb      18\n 4        4 yes      20.7  Chicago Independents         no    Mon   Apr       8\n 5        5 yes      12.2  Chicago Independents         no    Sun   Mar      21\n 6        6 yes       0.94 Sun Taxi                     yes   Sat   Apr      23\n 7        7 yes      17.5  Flash Cab                    no    Fri   Mar      12\n 8        8 yes      17.7  other                        no    Sun   Jan       6\n 9        9 yes       1.85 Taxicab Insurance Agency Llc no    Fri   Apr      12\n10       10 yes       1.47 City Service                 no    Tue   Mar      14\n# ℹ 9,990 more rows\n```\n\n\n:::\n:::\n\n\n\nWe first glimpse it to identify what variables need to be converted to factors.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi %>% dplyr::glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10,000\nColumns: 8\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ tip      <chr> \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\"…\n$ distance <dbl> 17.19, 0.88, 18.11, 20.70, 12.23, 0.94, 17.47, 17.67, 1.85, 1…\n$ company  <chr> \"Chicago Independents\", \"City Service\", \"other\", \"Chicago Ind…\n$ local    <chr> \"no\", \"yes\", \"no\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"no\", \"no\",…\n$ dow      <chr> \"Thu\", \"Thu\", \"Mon\", \"Mon\", \"Sun\", \"Sat\", \"Fri\", \"Sun\", \"Fri\"…\n$ month    <chr> \"Feb\", \"Mar\", \"Feb\", \"Apr\", \"Mar\", \"Apr\", \"Mar\", \"Jan\", \"Apr\"…\n$ hour     <dbl> 16, 8, 18, 8, 21, 23, 12, 6, 12, 14, 18, 11, 12, 19, 17, 13, …\n```\n\n\n:::\n:::\n\n\n\nBefore we do mutate stuff into factors, it helps to know the number of levels of each variable, just to make sure. For do inspect and skim.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi %>% mosaic::inspect()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n     name     class levels     n missing\n1     tip character      2 10000       0\n2 company character      7 10000       0\n3   local character      2 10000       0\n4     dow character      7 10000       0\n5   month character      4 10000       0\n                                   distribution\n1 yes (92.1%), no (7.9%)                       \n2 other (27.1%) ...                            \n3 no (81.2%), yes (18.8%)                      \n4 Thu (19.6%), Wed (17.5%), Tue (16.3%) ...    \n5 Apr (31.8%), Mar (31.4%), Feb (20.4%) ...    \n\nquantitative variables:  \n      name   class min      Q1  median        Q3     max        mean\n1 rownames numeric   1 2500.75 5000.50 7500.2500 10000.0 5000.500000\n2 distance numeric   0    0.94    1.78   15.5625    42.3    6.224144\n3     hour numeric   0   11.00   15.00   18.0000    23.0   14.177300\n           sd     n missing\n1 2886.895680 10000       0\n2    7.381397 10000       0\n3    4.359904 10000       0\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi %>% skimr::skim()\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |10000      |\n|Number of columns        |8          |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |5          |\n|numeric                  |3          |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|tip           |         0|             1|   2|   3|     0|        2|          0|\n|company       |         0|             1|   5|  28|     0|        7|          0|\n|local         |         0|             1|   2|   3|     0|        2|          0|\n|dow           |         0|             1|   3|   3|     0|        7|          0|\n|month         |         0|             1|   3|   3|     0|        4|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|    mean|      sd| p0|     p25|     p50|     p75|    p100|hist  |\n|:-------------|---------:|-------------:|-------:|-------:|--:|-------:|-------:|-------:|-------:|:-----|\n|rownames      |         0|             1| 5000.50| 2886.90|  1| 2500.75| 5000.50| 7500.25| 10000.0|▇▇▇▇▇ |\n|distance      |         0|             1|    6.22|    7.38|  0|    0.94|    1.78|   15.56|    42.3|▇▁▂▁▁ |\n|hour          |         0|             1|   14.18|    4.36|  0|   11.00|   15.00|   18.00|    23.0|▁▃▅▇▃ |\n\n\n:::\n:::\n\n\n\n| Variable name | Description | Type of variable |\n|----|----|----|\n| tip | Represents if the tip was given or not | Qualitative |\n| company | This variable indicates the taxi company or vendor that operates the vehicle. | Qualitative |\n| local | This variable may refer to whether the trip occurred within a local area or not | Qualitative |\n| dow | his variable represents the day of the week when the taxi ride took place | Qualitative |\n| month | This variable indicates the month during which the taxi ride occurred. | Qualitative |\n| distance | This variable measures the total distance traveled during the taxi ride, usually expressed in miles | Quantitative |\n| hour | This variable indicates the hour of the day when the trip started | Quantitative |\n\nTarget Variable: tip\n\nPredictor Variables: company, dow, local, month, hour\n\n> And then we mutate. I feel like i scientist when i use the word mutate. We glimpse it again, cause why not.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi_modified <- taxi %>%\n  dplyr::mutate(\n    tip = factor(tip,\n      levels = c(\"no\", \"yes\"),\n      labels = c(\"no\", \"yes\"),\n      ordered = TRUE\n    ),\n    company = as_factor(company),\n    ##\n    dow = factor(dow,\n      levels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"),\n      labels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"),\n      ordered = TRUE\n    ),\n    ##\n    local = factor(local,\n      levels = c(\"no\", \"yes\"),\n      labels = c(\"no\", \"yes\"),\n      ordered = TRUE\n    ),\n    ##\n    month = factor(month,\n      levels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\"),\n      labels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\"),\n      ordered = TRUE\n    ),\n    hour = as_factor(hour)\n  )\nglimpse(taxi_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10,000\nColumns: 8\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ tip      <ord> yes, yes, yes, yes, yes, yes, yes, yes, yes, yes, yes, yes, y…\n$ distance <dbl> 17.19, 0.88, 18.11, 20.70, 12.23, 0.94, 17.47, 17.67, 1.85, 1…\n$ company  <fct> Chicago Independents, City Service, other, Chicago Independen…\n$ local    <ord> no, yes, no, no, no, yes, no, no, no, no, no, no, no, yes, no…\n$ dow      <ord> Thu, Thu, Mon, Mon, Sun, Sat, Fri, Sun, Fri, Tue, Tue, Sun, W…\n$ month    <ord> Feb, Mar, Feb, Apr, Mar, Apr, Mar, Jan, Apr, Mar, Mar, Apr, A…\n$ hour     <fct> 16, 8, 18, 8, 21, 23, 12, 6, 12, 14, 18, 11, 12, 19, 17, 13, …\n```\n\n\n:::\n:::\n\n\n\n#### **q1. Do more people tip than not?**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~tip, data = taxi_modified) %>%\n  gf_labs(title = \"Counts of Tips\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\nLook that that! A vast majority of the lot, are people who tip!\n\n#### **q2. Does the tip depend upon whether the trip is local or not?**\n\nIn a dodged bar chart one variable is in the x- axis, but the y axis has the count of another variable. In this way we acquire counts of different levels of a qualitative data broken down by levels of another qualitative variable side by side, making it easy to compare.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi_modified %>%\n  gf_bar(~local,\n    fill = ~tip,\n    position = \"dodge\"\n  ) %>%\n  gf_labs(title = \"Dodged Bar Chart\" ,\n    subtitle = \"Proof that i know how to write subtitles\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\nA stacked bar looks very similar to a dodged chart, but counts of both levels are on top of each other. I like this one better, it looks neater, but in my opinion if the counts of multiple levels of one paramter are closeby values, it would be more practical to use a dodged bar.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi_modified %>%\n  gf_bar(~local,\n    fill = ~tip,\n    position = \"stack\"\n  ) %>%\n  gf_labs(\n    title = \"Stacked Bar Chart\",\n    subtitle = \"A sandwiched version of the last one!\"\n  )%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\nLooking at these, while we can spot the number of tips and lack of tips the locals and non-locals contributed- there are a lot more non local tips than local ones and in quantity, they do get most of their tips from non-locals.\n\n> But we can't definitely say that non-locals tend to tip more certainly, it could only appear so beacuse the non-local trips are so much more. To find this, we will have to find the difference in ratios by using position = fill.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi_modified %>%\n  gf_bar(~local,\n    fill = ~tip,\n    position = \"fill\"\n  ) %>%\n  gf_labs(\n    title = \"Filled Bar Chart\",\n    subtitle = \"Shows Per group differences in Proportions!\"\n  )%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\nWe can now observe that locals tend to tip lesser than the non-locals.\n\n#### **q3. Do some cab companies get more tips than others?**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi_modified %>%\n  gf_bar(~company, fill = ~tip, position = \"dodge\") %>%\n  gf_labs(title = \"Dodged Bar Chart\") %>%\n  gf_theme(theme(axis.text.x = element_text(size = 6, angle = 45, hjust = 1)))%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\nOther gets the most count of trips but do they get the most number of tips in ratio?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi_modified %>%\n  gf_props(~company, fill = ~tip, position = \"fill\") %>%\n  gf_labs(\n    title = \"Filled Bar Chart\",\n    subtitle = \"Shows Per group differences in Proportions!\"\n  ) %>%\n  gf_theme(theme(axis.text.x = element_text(size = 6, angle = 45, hjust = 1)))%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\nIt appears so that flash cabs is the company that gets the least amount of tips. While Chicago gets the most number of tips per-group proportion.\n\n#### **q4. Does a tip depend upon the hour of the day? At which are are the tips highest and lowest?**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~hour, fill = ~tip, data = taxi_modified) %>%\n  gf_labs(title = \"Counts of Tips by Hour\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\nThe count of tips are highest are the 17th hour while lowest is at the 4th hour.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~hour, fill = ~tip, position = \"fill\", data = taxi_modified) %>%\n  gf_labs(title = \"Counts of Tips by Hour in proportion\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\nPeople are most likely to tip at 2nd and 4th hour and least at 8th, 15th and 23rd hour.\n\n#### **q5. Does a tip depend upon the** day of the week? At which day are the tips highest and lowest?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~dow, fill = ~tip, data = taxi_modified) %>%\n  gf_labs(title = \"Counts of Tips by Day of Week\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\nThe highest count of tips are on Thursdays and lowest is on Sundays. The count of tips thend to be the highest in weekdays and lesser in weekends\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~dow, fill = ~tip, data = taxi_modified, position = \"fill\") %>%\n  gf_labs(title = \"Counts of Tips by Day of Week in proportion\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n\nPeople are most likely to tip on Sundays and least likely to tip on Fridays.\n\n#### q6. At which month are the tips highest and lowest among the 4 recorded?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~month, fill = ~tip, data = taxi_modified) %>%\n  gf_labs(title = \"Counts of Tips by Month\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\nThe highest count of tips is on April and lowest is on January.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~month, fill = ~tip, data = taxi_modified, position = \"fill\") %>%\n  gf_labs(title = \"Counts of Tips by Month in proportion\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n\nPeople are least likely to tip in April and most likely to tip in January.\n\n#### Counts of Tips by Day of Week and Month\n\n> Here, we are obtaining a total 7 graphs, each for a day week. Each graph has 4 bars each, with month as the x axis indicating- for each day, in what month, the count of tips is observed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~ month | dow, fill = ~tip, data = taxi_modified) %>%\n  gf_labs(title = \"Counts of Tips by Day of Week and Month\")%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n\n#### Counts of Tips by Hour and Day of Week\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~ hour | dow, fill = ~tip, data = taxi_modified) %>%\n  gf_labs(\n    title = \"Counts of Tips by Hour and Day of Week\"\n  )%>%\n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n\n## Addiction healthcare data-set\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"HELPrct\")\n```\n:::\n\n\n\n#### Obtaining the count of of each substance\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHELPrct %>% gf_bar(~substance)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n\nBased on this data, more people are addicted to alcohol than cocaine or heroin.\n\n#### Plotting the count of substance based on gender\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHELPrct %>% gf_bar(~substance,fill = ~sex)%>% \n  gf_refine(scale_fill_manual(values = c(\"turquoise\", \"salmon\")))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\n\nFor all 3 substances, more men in count seem to be addicted than women.\n\n## Banned Books data-set (Trying it myself)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbanned <- read_csv(\"../../data/banned-author-title.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 1586 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Author, Title, Type of Ban, State, District, Date of Challenge/Remo...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nbanned\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,586 × 7\n   Author              Title `Type of Ban` State District Date of Challenge/Re…¹\n   <chr>               <chr> <chr>         <chr> <chr>    <chr>                 \n 1 Àbíké-Íyímídé, Far… Ace … Banned from … Flor… Indian … Nov-21                \n 2 Acevedo, Elizabeth  Clap… Banned from … Penn… Central… Sep-21                \n 3 Acevedo, Elizabeth  The … Banned from … Flor… Indian … Nov-21                \n 4 Acevedo, Elizabeth  The … Banned from … New … Marlbor… Feb-22                \n 5 Acevedo, Elizabeth  The … Banned Pendi… Texas Frederi… Mar-22                \n 6 Acevedo, Elizabeth  The … Banned Pendi… Virg… New Ken… Oct-21                \n 7 Aciman, André       Call… Banned Pendi… Virg… Spotsly… Nov-21                \n 8 Acito, Marc         How … Banned Pendi… Flor… Indian … Nov-21                \n 9 Adeyoha, Koja       47,0… Banned from … Penn… Central… Sep-21                \n10 Adichie, Chimamand… Half… Banned from … Mich… Hudsonv… Jan-22                \n# ℹ 1,576 more rows\n# ℹ abbreviated name: ¹​`Date of Challenge/Removal`\n# ℹ 1 more variable: `Origin of Challenge` <chr>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbanned %>% dplyr::glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,586\nColumns: 7\n$ Author                      <chr> \"Àbíké-Íyímídé, Faridah\", \"Acevedo, Elizab…\n$ Title                       <chr> \"Ace of Spades\", \"Clap When You Land\", \"Th…\n$ `Type of Ban`               <chr> \"Banned from Libraries and Classrooms\", \"B…\n$ State                       <chr> \"Florida\", \"Pennsylvania\", \"Florida\", \"New…\n$ District                    <chr> \"Indian River County School\", \"Central Yor…\n$ `Date of Challenge/Removal` <chr> \"Nov-21\", \"Sep-21\", \"Nov-21\", \"Feb-22\", \"M…\n$ `Origin of Challenge`       <chr> \"Administrator\", \"Administrator\", \"Adminis…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n banned %>% mosaic::inspect()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n                       name     class levels    n missing\n1                    Author character    797 1586       0\n2                     Title character   1145 1586       0\n3               Type of Ban character      4 1586       0\n4                     State character     26 1586       0\n5                  District character     86 1586       0\n6 Date of Challenge/Removal character     12 1586       0\n7       Origin of Challenge character      2 1586       0\n                                   distribution\n1 Kobabe, Maia (1.9%) ...                      \n2 Gender Queer: A Memoir (1.9%) ...            \n3 Banned Pending Investigation (46.1%) ...     \n4 Texas (45%), Pennsylvania (28.8%) ...        \n5 Central York (27.8%) ...                     \n6 Sep-21 (28.8%), Dec-21 (28.3%) ...           \n7 Administrator (95.6%) ...                    \n```\n\n\n:::\n:::\n\n\n\n| Variable name | Description | Type of variable |\n|----|----|----|\n| Author | Represents the name of the author of the book that has been challenged or banned | Qualitative |\n| Title | This variable indicates the title of the book that has faced challenges or bans. | Qualitative |\n| Type of Ban | Describes the context in which the book is banned | Qualitative |\n| State | Indicates the U.S. state where the challenge or ban occurred. | Qualitative |\n| District | This variable specifies the school district or library district involved in the challenge or ban. | Qualitative |\n| Date of Challenge/Removal | This variable records the date when the challenge was made or when the book was removed from circulation. | Qualitative |\n| Origin of Challenge | Indicates who initiated the challenge | Qualitative |\n\n> Type of ban, State, District, Date of challenge and origin of challenge can be declared as factors.\n\n#### What could the target variable be?\n\nI guess it could be type of ban - understanding it could help predict if a book will be fully banned, temporarily banned, or restricted or with State/district, we could understand which states or districts are more likely to challenge books.\n\nWhen it comes to predictor variables, everything except title, author and district (there way too many levels) could be predictor variables.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbanned_modified <- banned %>%\n  dplyr::mutate(\n    `Type of Ban` = as_factor(`Type of Ban`),\n    State = as_factor(State),\n    District = as_factor(District),\n    `Date of Challenge/Removal` = as_factor(`Date of Challenge/Removal`),\n    `Origin of Challenge` = as_factor(`Origin of Challenge`),\n  )\nglimpse(banned_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,586\nColumns: 7\n$ Author                      <chr> \"Àbíké-Íyímídé, Faridah\", \"Acevedo, Elizab…\n$ Title                       <chr> \"Ace of Spades\", \"Clap When You Land\", \"Th…\n$ `Type of Ban`               <fct> Banned from Libraries and Classrooms, Bann…\n$ State                       <fct> Florida, Pennsylvania, Florida, New York, …\n$ District                    <fct> Indian River County School, Central York, …\n$ `Date of Challenge/Removal` <fct> Nov-21, Sep-21, Nov-21, Feb-22, Mar-22, Oc…\n$ `Origin of Challenge`       <fct> Administrator, Administrator, Administrato…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbanned_modified %>% mosaic::inspect()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n                       name     class levels    n missing\n1                    Author character    797 1586       0\n2                     Title character   1145 1586       0\n3               Type of Ban    factor      4 1586       0\n4                     State    factor     26 1586       0\n5                  District    factor     86 1586       0\n6 Date of Challenge/Removal    factor     12 1586       0\n7       Origin of Challenge    factor      2 1586       0\n                                   distribution\n1 Kobabe, Maia (1.9%) ...                      \n2 Gender Queer: A Memoir (1.9%) ...            \n3 Banned Pending Investigation (46.1%) ...     \n4 Texas (45%), Pennsylvania (28.8%) ...        \n5 Central York (27.8%) ...                     \n6 Sep-21 (28.8%), Dec-21 (28.3%) ...           \n7 Administrator (95.6%) ...                    \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbanned_modified %>% skimr::skim()\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |1586       |\n|Number of columns        |7          |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |2          |\n|factor                   |5          |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Author        |         0|             1|   7|  29|     0|      797|          0|\n|Title         |         0|             1|   2| 155|     0|     1145|          0|\n\n\n**Variable type: factor**\n\n|skim_variable             | n_missing| complete_rate|ordered | n_unique|top_counts                             |\n|:-------------------------|---------:|-------------:|:-------|--------:|:--------------------------------------|\n|Type of Ban               |         0|             1|FALSE   |        4|Ban: 731, Ban: 474, Ban: 197, Ban: 184 |\n|State                     |         0|             1|FALSE   |       26|Tex: 713, Pen: 456, Flo: 204, Okl: 43  |\n|District                  |         0|             1|FALSE   |       86|Cen: 441, Nor: 435, Ind: 161, Gra: 131 |\n|Date of Challenge/Removal |         0|             1|FALSE   |       12|Sep: 456, Dec: 449, Nov: 227, Jan: 178 |\n|Origin of Challenge       |         0|             1|FALSE   |        2|Adm: 1517, For: 69                     |\n\n\n:::\n:::\n\n\n\n### TARGET VARIABLE: State\n\n#### q1. Which state has the most amount of banned books?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~State, data = banned_modified) %>%\n  gf_labs(title = \"Counts of States\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n\n\nAs expected, Texas leads the nation in the number of banned books, with Pennsylvania following in second place.\n\n> Since there is data on so many states, like we did on day 4, i want to filter it to be only 10 states with the most amount of banned books.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_states <- banned_modified %>%\n  group_by(State) %>%                   # Group by state\n  summarize(n = n()) %>%                # Count banned books per state\n  slice_max(n, n = 10) %>%                # Select the top 5 states\n  pull(State)                           # Extract the state names\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_states_data <- banned_modified %>%\n  filter(State %in% top_states)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_states_data\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,524 × 7\n   Author              Title `Type of Ban` State District Date of Challenge/Re…¹\n   <chr>               <chr> <fct>         <fct> <fct>    <fct>                 \n 1 Àbíké-Íyímídé, Far… Ace … Banned from … Flor… Indian … Nov-21                \n 2 Acevedo, Elizabeth  Clap… Banned from … Penn… Central… Sep-21                \n 3 Acevedo, Elizabeth  The … Banned from … Flor… Indian … Nov-21                \n 4 Acevedo, Elizabeth  The … Banned Pendi… Texas Frederi… Mar-22                \n 5 Acevedo, Elizabeth  The … Banned Pendi… Virg… New Ken… Oct-21                \n 6 Aciman, André       Call… Banned Pendi… Virg… Spotsly… Nov-21                \n 7 Acito, Marc         How … Banned Pendi… Flor… Indian … Nov-21                \n 8 Adeyoha, Koja       47,0… Banned from … Penn… Central… Sep-21                \n 9 Agell, Charlotte    The … Banned from … Texas North E… Dec-21                \n10 Ahmadi, Arvin       How … Banned Pendi… Texas North E… Dec-21                \n# ℹ 1,514 more rows\n# ℹ abbreviated name: ¹​`Date of Challenge/Removal`\n# ℹ 1 more variable: `Origin of Challenge` <fct>\n```\n\n\n:::\n:::\n\n\n\nTrying kskin again with this updated data-set to see if the amount of districts are small enough to be a facor\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_states_data %>% skimr::skim()\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |1524       |\n|Number of columns        |7          |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |2          |\n|factor                   |5          |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Author        |         0|             1|   7|  29|     0|      789|          0|\n|Title         |         0|             1|   2| 155|     0|     1133|          0|\n\n\n**Variable type: factor**\n\n|skim_variable             | n_missing| complete_rate|ordered | n_unique|top_counts                             |\n|:-------------------------|---------:|-------------:|:-------|--------:|:--------------------------------------|\n|Type of Ban               |         0|             1|FALSE   |        4|Ban: 701, Ban: 464, Ban: 189, Ban: 170 |\n|State                     |         0|             1|FALSE   |       10|Tex: 713, Pen: 456, Flo: 204, Okl: 43  |\n|District                  |         0|             1|FALSE   |       57|Cen: 441, Nor: 435, Ind: 161, Gra: 131 |\n|Date of Challenge/Removal |         0|             1|FALSE   |       12|Sep: 451, Dec: 447, Nov: 224, Jan: 161 |\n|Origin of Challenge       |         0|             1|FALSE   |        2|Adm: 1479, For: 45                     |\n\n\n:::\n:::\n\n\n\n> Nope, still too much. i guess i could try it tho.\n\n#### q2. What is the correlation between type of ban and the state it is challenged in?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_states_data %>%\n  gf_bar(~State,\n    fill = ~`Type of Ban`,\n    position = \"stack\"\n  ) %>%\n  gf_labs(title = \"Type of ban by state\" ,\n    subtitle = \"Stacked Bar Chart\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-35-1.png){width=672}\n:::\n:::\n\n\n\nIt seems that almost all books banned in Pennsylvania are banned in Classrooms and in Texas, while most of them are banned from a pending investigation, there is a significant section of it banned from libraries and classrooms\n\n#### q3. Does the ban depend on the Origin of Challenge?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_states_data %>%\n  gf_bar(~State,\n    fill = ~`Origin of Challenge`,\n    position = \"stack\"\n  ) %>%\n  gf_labs(title = \"Origin of Challenge by state\" ,\n    subtitle = \"Stacked Bar Chart\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\n\nMost bans everywhere were raised by the administration. Interestingly, all the books banned in Pennsylvania have been challenged by the administrator. In Texas, a large majority has been challenged by Administrator but there is still a portion of it challenged formally. All banned books in Missouri were challenged formally, how surprising!\n\n#### q4. Is there a correlation between the type of ban and the Origin of challenge?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~`Origin of Challenge` | `Type of Ban`, fill = ~State, data = top_10_states_data) %>%\n  gf_labs(title = \"Counts of Ban by type of ban and origin in states\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~`Origin of Challenge` | State, fill = ~`Type of Ban`, data = top_10_states_data) %>%\n  gf_labs(title = \"Counts of Types of Ban by State and Origin\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-38-1.png){width=672}\n:::\n:::\n\n\n\nYou would expect that only all books whose origin was formal would be the ones banned in classrooms (over protective parents exist all over the world) but surprising, From what i can see, in Texas, most books formally banned are banned from libraries (a few also banned from classrooms and libraries) and the ones banned in Missouri are mostly banned pending investigation.\n\n#### q5. In which month of which year were most bans challenged?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~`Date of Challenge/Removal`, data = banned_modified) %>%\n  gf_labs(title = \"Count of bans every month\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-39-1.png){width=672}\n:::\n:::\n\n\n\nMost books were banned during September and December.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_10_states_data %>%\n  gf_bar(~State,\n    fill = ~`Date of Challenge/Removal`,\n    position = \"stack\"\n  ) %>%\n  gf_labs(title = \"Date of Challenge/Removal by State\" ,\n    subtitle = \"Stacked bar chart\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-40-1.png){width=672}\n:::\n:::\n\n\n\nFrom this bar, it is clear that every state has one month where most of there bans are imposed. For Texas it's mostly in December, some in January, fewer in March, fall and November. For Pennsylvania, it's moslty all in September. For Florida it's mostly in November.\n\n#### q6. Is there a correlation between the type of ban and when it was challenged?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~`Type of Ban` | `Date of Challenge/Removal`, fill = ~State, data = top_10_states_data) %>%\n  gf_labs(title = \"Counts of Types of Ban by State and Date of Challenge\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-41-1.png){width=672}\n:::\n:::\n\n\n\nTo no surprise, there does not seem to be any correlation between type of ban and the month it was challenged in.\n\n#### q7. Is there a correlation between the origin of ban and when it was challenged?\n\nI know it's a long shot.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~`Origin of Challenge` | State, fill = ~`Date of Challenge/Removal`, data = top_10_states_data) %>%\n  gf_labs(title = \"Origin of challenge of State and Date of Challenge/Removal\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-42-1.png){width=672}\n:::\n:::\n\n\n\nThere doesn't seem to be any clear correlation between origin of ban and when it was challenged except in Tennesse where most if not all administrator origins came at Winter 2021 and all formal challenges came of September 2021.\n\n#### q8. Which author has the honor of being the most banned?\n\nI know this doesn't really come under the bar graph theme we were going with in this post but i really wanted to know and when i did yry and make it a bar graph, i wasn;t getting one with all the same counts.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_author <- banned_modified %>%\n  count(Author) %>%\n  slice_max(n, n = 10)  \n\ntop_author\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 2\n   Author                 n\n   <chr>              <int>\n 1 Kobabe, Maia          30\n 2 Hopkins, Ellen        27\n 3 Johnson, George M.    21\n 4 Do, Anh               17\n 5 Evison, Jonathan      16\n 6 Faruqi, Saadia        16\n 7 Jules, Jacqueline     16\n 8 Morrison, Toni        16\n 9 Myracle, Lauren       16\n10 Pérez, Ashley Hope    16\n```\n\n\n:::\n:::\n\n\n\nKobabe, Maia is the author with the most number of banned books, so proud of him or her!\n\n#### q9. Which District of Texas has raised the most challenges?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_1_state <- banned_modified %>%\n  group_by(State) %>%                   \n  summarize(n = n()) %>%                \n  slice_max(n, n = 1) %>%                \n  pull(State)\n\ntop_1_states_data <- banned_modified %>%\n  filter(State %in% top_1_state)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~District, data = top_1_states_data, fill = \"lightblue\") %>%\n  gf_labs(title = \"Counts of Districts in Texas\")%>%\n  gf_theme(theme(\n    axis.text.x =\n      element_text(\n        angle = 45,\n        hjust = 1\n      )\n  ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-45-1.png){width=672}\n:::\n:::\n\n\n\nThe North East District of Texas has the most number of challenges/ bans\n\n### The End of my A1.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}